import{a as d}from"./chunk-HK7VWWZT.js";import{a as D}from"./chunk-XCYMWPRT.js";import{a as j}from"./chunk-32CHL5V6.js";import{c as U}from"./chunk-VEY35CTR.js";import{_ as M,ca as T}from"./chunk-SDSHYV7S.js";import"./chunk-EYFGJ4CW.js";import"./chunk-H7BDRFGO.js";import"./chunk-J3G3BBGS.js";import{$b as l,Ba as b,Ca as A,Ib as o,Jb as i,Kb as x,Rb as C,Xb as S,Yb as P,Zb as k,Zc as p,cb as w,cd as _,db as E,ec as I,fa as f,g as c,la as g,qa as v,xb as u}from"./chunk-FIIJ44BK.js";var F={prod:"checkout.airwallex.com",demo:"checkout-demo.airwallex.com",staging:"checkout-staging.airwallex.com",dev:"checkout-dev.airwallex.com",local:"localhost:3000"},G=t=>`https://${F[t]||F.prod}`,h="/assets/elements.bundle.min.js?version=1.62.0",$=t=>{let r=document.createElement("script");r.src=`${t}${h}`,r.crossOrigin="anonymous";let s=document.head||document.body;if(!s)throw new Error("Airwallex payment scripts requires a <head> or <body> html element in order to be loaded.");return s.appendChild(r),r},J=t=>c(void 0,null,function*(){if(typeof window>"u")return null;if(window.Airwallex)return window.Airwallex;let r=0,s=()=>c(void 0,null,function*(){let e=document.querySelector(`script[src="${h}"], script[src="${h}/"]`)||$(G(t?.env||"prod"));return new Promise((n,a)=>{e.addEventListener("load",()=>{window.Airwallex?(window.Airwallex.init(t),n(window.Airwallex)):a(new Error("Failed to load Airwallex on load event"))}),e.addEventListener("error",()=>{a(new Error("Failed to load Airwallex scripts")),e.remove&&e.remove()})})});for(;r<3;)try{return yield s()}catch{r++,yield new Promise(n=>window.setTimeout(n,500))}return null}),O=t=>{window.Airwallex?window.Airwallex.init(t):console.error("Please loadAirwallex() before init();")},R=t=>{if(window.Airwallex)return window.Airwallex.redirectToCheckout(t);console.error("Please loadAirwallex() before redirectToCheckout();")},L=(t,r)=>window.Airwallex?window.Airwallex.createElement(t,r):(console.error("Please loadAirwallex() before createElement();"),null),N=t=>window.Airwallex?window.Airwallex.destroyElement(t):(console.error("Please loadAirwallex() before destroyElement();"),!1),q=t=>window.Airwallex?window.Airwallex.getElement(t):(console.error("Please loadAirwallex() before getElement();"),null),z=t=>c(void 0,null,function*(){if(window.Airwallex)return window.Airwallex.confirmPaymentIntent(t);{let r="Please loadAirwallex() before confirmPaymentIntent();";throw console.error(r),new Error(r)}}),Q=t=>c(void 0,null,function*(){if(window.Airwallex)return window.Airwallex.confirmPaymentIntentWithSavedCard(t);{let r="Please loadAirwallex() before confirmPaymentIntentWithSavedCard();";throw console.error(r),new Error(r)}}),V=(t,r)=>c(void 0,null,function*(){if(window.Airwallex)return window.Airwallex.createPaymentMethod(t,r);{let s="Please loadAirwallex() before createPaymentMethod();";throw console.error(s),new Error(s)}}),W=(t,r)=>c(void 0,null,function*(){if(window.Airwallex)return window.Airwallex.getPaymentIntent(t,r);{let s="Please loadAirwallex() before getPaymentIntent();";throw console.error(s),new Error(s)}}),K=t=>c(void 0,null,function*(){if(window.Airwallex)return window.Airwallex.createPaymentConsent(t);{let r="Please loadAirwallex() before createPaymentConsent();";throw console.error(r),new Error(r)}}),Y=t=>window.Airwallex.getDeviceFingerprint(t),X={getGatewayUrl:G,loadAirwallex:J,loadAirwallexJs:$,init:O,redirectToCheckout:R,createElement:L,destroyElement:N,getDeviceFingerprint:Y,getElement:q,getPaymentIntent:W,createPaymentMethod:V,createPaymentConsent:K,confirmPaymentIntent:z,confirmPaymentIntentWithSavedCard:Q},y=X;var H=(()=>{let r=class r{constructor(){this._httpClient=g(_),this.url=d.baseUrl,this.apiUrl=d.baseUrl+d.apiUrl,this.airwallexUrl=d.airwallex.apiUrl}buildHeader(e){return new p({"Content-Type":"application/json",Authorization:`Bearer ${e.token}`})}authen(){let e=new p({"Content-Type":"application/json","x-api-key":d.airwallex.apiKey,"x-client-id":d.airwallex.clientId});return console.log(e),this._httpClient.post(this.airwallexUrl+"/v1/authentication/login",null,{headers:e})}createCustomer(e){let n=Math.floor(Math.random()*100)+1,a={email:"john.doe@airwallex.com",first_name:"Hoang",last_name:"Vu",merchant_customer_id:"hoang-vu-id-"+n,phone_number:"13800000000",request_id:"test-id-"+n},m=this.buildHeader(e);return console.log(m),this._httpClient.post(this.airwallexUrl+"/v1/pa/customers/create",a,{headers:m})}getCustomer(e){let n=this.buildHeader(e);return this._httpClient.get(this.airwallexUrl+"/v1/pa/customers",{headers:n})}};r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=f({token:r,factory:r.\u0275fac,providedIn:"root"});let t=r;return t})();var B=(()=>{let r=class r{constructor(e){this.airwallexService=e,this.yearlyBilling=!0,this.airwallexAuth={expires_at:"2024-11-20T03:38:36+0000",token:"eyJhbGciOiJIUzI1NiJ9"}}ngOnInit(){y.loadAirwallex({env:"demo"})}createCustomer(e){this.airwallexService.createCustomer(e).subscribe(n=>{console.log(n);let a=n;this.dropIn(a)},n=>{console.log(n)})}airAuthen(){this.airwallexService.authen().subscribe(e=>{console.log(e),this.airwallexAuth=e,this.createCustomer(e)},e=>{console.log(e)})}getCustomers(e){this.airwallexService.getCustomer(e).subscribe(n=>{console.log(n),console.log(n)},n=>{console.log(n)})}payByCard(){this.airAuthen()}dropIn(e){console.log("pay by drop"),y.createElement("dropIn",{intent_id:"int_hkdm6zv7th2014emgx3",customer_id:e.id,client_secret:e.client_secret,currency:"SGD",mode:"recurring",recurringOptions:{next_triggered_by:"merchant",merchant_trigger_reason:"scheduled",currency:"SGD"},googlePayRequestOptions:{countryCode:"US",merchantInfo:{merchantName:"Example Merchant"},buttonType:"buy"}}).mount("dropIn"),window.addEventListener("onReady",this.onReady),window.addEventListener("onSuccess",this.onSuccess),window.addEventListener("onError",this.onError)}onReady(e){console.log(`Element is mounted: ${JSON.stringify(e.detail)}`)}onSuccess(e){console.log(`Confirm success with ${JSON.stringify(e.detail)}`)}onError(e){let{error:n}=e.detail;console.error("There was an error",n)}};r.\u0275fac=function(n){return new(n||r)(E(H))},r.\u0275cmp=v({type:r,selectors:[["pricing-checkout"]],viewQuery:function(n,a){if(n&1&&S(j,5),n&2){let m;P(m=k())&&(a.elements=m.first)}},standalone:!0,features:[I],decls:40,vars:3,consts:[[1,"relative","flex","min-w-0","flex-auto","flex-col","overflow-hidden"],[1,"relative","overflow-hidden","px-6","pb-12","pt-8","sm:px-16","sm:pb-24","sm:pt-20"],["viewBox","0 0 960 540","width","100%","height","100%","preserveAspectRatio","xMidYMax slice","xmlns","http://www.w3.org/2000/svg",1,"-z-1","absolute","inset-0"],["fill","none","stroke","currentColor","stroke-width","100",1,"opacity-40","text-gray-200","dark:text-gray-800"],["r","234","cx","196","cy","23"],["r","234","cx","790","cy","491"],[1,"flex","flex-col","items-center"],[1,"text-xl","font-semibold"],[1,"mt-1","text-center","text-4xl","font-extrabold","leading-tight","tracking-tight","sm:text-7xl"],[1,"text-secondary","mt-3","text-center","tracking-tight","sm:text-2xl"],[1,""],[1,"mt-10","flex","justify-center","sm:mt-20"],[1,"flex","max-w-sm","flex-col","lg:max-w-240","lg:flex-row"],[1,"p-6","sm:p-8","lg:p-10"],["id","dropIn"],[1,"flex","flex-col","items-center","bg-gray-100","p-8","dark:bg-black","dark:bg-opacity-10","lg:min-w-80","lg:px-10","lg:py-12"],[1,"flex","items-center","whitespace-nowrap"],[1,"text-8xl","font-extrabold","tracking-tight"],[1,"text-secondary","ml-2","text-2xl","font-semibold"],[1,"text-secondary","text-center","font-medium"],["mat-flat-button","",1,"mb-2","mt-8","w-full","lg:mt-auto",3,"color"],["mat-flat-button","",1,"mb-2","mt-8","w-full","lg:mt-auto",3,"click","color"],["id","card"],["id","submit"]],template:function(n,a){n&1&&(o(0,"div",0)(1,"div",1),b(),o(2,"svg",2)(3,"g",3),x(4,"circle",4)(5,"circle",5),i()(),A(),o(6,"div",6)(7,"h2",7),l(8,"PRICING"),i(),o(9,"div",8),l(10," Take control of your productivity "),i(),o(11,"div",9)(12,"div",10),l(13,"Start small and free, upgrade as you go."),i(),o(14,"div",10),l(15,"Take control of everything."),i()()(),o(16,"div",11)(17,"fuse-card",12)(18,"div",13),x(19,"div",14),i(),o(20,"div",15)(21,"div",16)(22,"div",17),l(23," $599 "),i(),o(24,"div",18),l(25," USD "),i()(),o(26,"div",19)(27,"div"),l(28,"No monthly subscription,"),i(),o(29,"div"),l(30,"you only pay once."),i()(),o(31,"button",20),l(32," Get Started "),i(),o(33,"button",20),l(34," Get Started "),i(),o(35,"button",21),C("click",function(){return a.payByCard()}),l(36," Credit Card "),i(),x(37,"div",22),o(38,"div",23),l(39,"Submit"),i()()()()()()),n&2&&(w(31),u("color","primary"),w(2),u("color","primary"),w(2),u("color","primary"))},dependencies:[T,M,D,U],encapsulation:2,changeDetection:0});let t=r;return t})();var pe=[{path:"",component:B}];export{pe as default};
