import{a as d}from"./chunk-HK7VWWZT.js";import{a as U}from"./chunk-XCYMWPRT.js";import{a as N}from"./chunk-32CHL5V6.js";import{c as J}from"./chunk-VEY35CTR.js";import{_ as j,ca as z}from"./chunk-SDSHYV7S.js";import"./chunk-EYFGJ4CW.js";import"./chunk-H7BDRFGO.js";import"./chunk-J3G3BBGS.js";import{$b as l,Ba as v,Ca as E,Ib as i,Jb as o,Kb as x,Rb as b,Xb as S,Yb as C,Zb as I,Zc as k,cb as m,cd as M,db as A,ec as P,fa as f,g as c,la as h,qa as g,xb as w}from"./chunk-FIIJ44BK.js";var T={prod:"checkout.airwallex.com",demo:"checkout-demo.airwallex.com",staging:"checkout-staging.airwallex.com",dev:"checkout-dev.airwallex.com",local:"localhost:3000"},W=e=>`https://${T[e]||T.prod}`,p="/assets/elements.bundle.min.js?version=1.62.0",_=e=>{let t=document.createElement("script");t.src=`${e}${p}`,t.crossOrigin="anonymous";let a=document.head||document.body;if(!a)throw new Error("Airwallex payment scripts requires a <head> or <body> html element in order to be loaded.");return a.appendChild(t),t},L=e=>c(void 0,null,function*(){if(typeof window>"u")return null;if(window.Airwallex)return window.Airwallex;let t=0,a=()=>c(void 0,null,function*(){let r=document.querySelector(`script[src="${p}"], script[src="${p}/"]`)||_(W(e?.env||"prod"));return new Promise((n,s)=>{r.addEventListener("load",()=>{window.Airwallex?(window.Airwallex.init(e),n(window.Airwallex)):s(new Error("Failed to load Airwallex on load event"))}),r.addEventListener("error",()=>{s(new Error("Failed to load Airwallex scripts")),r.remove&&r.remove()})})});for(;t<3;)try{return yield a()}catch{t++,yield new Promise(n=>window.setTimeout(n,500))}return null}),Y=e=>{window.Airwallex?window.Airwallex.init(e):console.error("Please loadAirwallex() before init();")},O=e=>{if(window.Airwallex)return window.Airwallex.redirectToCheckout(e);console.error("Please loadAirwallex() before redirectToCheckout();")},F=(e,t)=>window.Airwallex?window.Airwallex.createElement(e,t):(console.error("Please loadAirwallex() before createElement();"),null),Q=e=>window.Airwallex?window.Airwallex.destroyElement(e):(console.error("Please loadAirwallex() before destroyElement();"),!1),Z=e=>window.Airwallex?window.Airwallex.getElement(e):(console.error("Please loadAirwallex() before getElement();"),null),R=e=>c(void 0,null,function*(){if(window.Airwallex)return window.Airwallex.confirmPaymentIntent(e);{let t="Please loadAirwallex() before confirmPaymentIntent();";throw console.error(t),new Error(t)}}),V=e=>c(void 0,null,function*(){if(window.Airwallex)return window.Airwallex.confirmPaymentIntentWithSavedCard(e);{let t="Please loadAirwallex() before confirmPaymentIntentWithSavedCard();";throw console.error(t),new Error(t)}}),$=(e,t)=>c(void 0,null,function*(){if(window.Airwallex)return window.Airwallex.createPaymentMethod(e,t);{let a="Please loadAirwallex() before createPaymentMethod();";throw console.error(a),new Error(a)}}),X=(e,t)=>c(void 0,null,function*(){if(window.Airwallex)return window.Airwallex.getPaymentIntent(e,t);{let a="Please loadAirwallex() before getPaymentIntent();";throw console.error(a),new Error(a)}}),B=e=>c(void 0,null,function*(){if(window.Airwallex)return window.Airwallex.createPaymentConsent(e);{let t="Please loadAirwallex() before createPaymentConsent();";throw console.error(t),new Error(t)}}),H=e=>window.Airwallex.getDeviceFingerprint(e),q={getGatewayUrl:W,loadAirwallex:L,loadAirwallexJs:_,init:Y,redirectToCheckout:O,createElement:F,destroyElement:Q,getDeviceFingerprint:H,getElement:Z,getPaymentIntent:X,createPaymentMethod:$,createPaymentConsent:B,confirmPaymentIntent:R,confirmPaymentIntentWithSavedCard:V},y=q;var D=(()=>{let t=class t{constructor(){this._httpClient=h(M),this.url=d.baseUrl,this.apiUrl=d.baseUrl+d.apiUrl,this.airwallexUrl=d.airwallex.apiUrl}authen(){let r=new k({"Content-Type":"application/json","x-api-key":d.airwallex.apiKey,"x-client-id":d.airwallex.clientId});return console.log(r),this._httpClient.post(this.airwallexUrl+"/v1/authentication/login",null,{headers:r})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var G=(()=>{let t=class t{constructor(r){this.airwallexService=r,this.yearlyBilling=!0,this.airwallexAuth={expires_at:"2024-11-20T03:38:36+0000",token:"eyJhbGciOiJIUzI1NiJ9"}}ngOnInit(){y.loadAirwallex({env:"demo"})}airAuthen(){this.airwallexService.authen().subscribe(r=>{console.log(r),this.airwallexAuth=r},r=>{console.log(r)})}payByCard(){this.airAuthen(),this.dropIn()}dropIn(){console.log("pay by drop"),y.createElement("dropIn",{intent_id:"int_hkdm6zv7th2014emgx3",customer_id:"cus_hkdmp7xz9h20aemg93y",client_secret:"eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3MzIxODQxMzUsImV4cCI6MTczMjE4NzczNSwidHlwZSI6ImNsaWVudC1zZWNyZXQiLCJwYWRjIjoiSEsiLCJhY2NvdW50X2lkIjoiMzM1Y2ZlYjUtYjZkMy00MjQzLWIwZmEtMWY2N2I1MjY2YmJmIiwiY3VzdG9tZXJfaWQiOiJjdXNfaGtkbXA3eHo5aDIwYWVtZzkzeSJ9.0S-kM7PghPVp_ZptUElMLNWXziLu-WfsFkmAaLQqiso",currency:"SGD",mode:"recurring",recurringOptions:{next_triggered_by:"merchant",merchant_trigger_reason:"scheduled",currency:"SGD"},googlePayRequestOptions:{countryCode:"US",merchantInfo:{merchantName:"Example Merchant"},buttonType:"buy"}}).mount("dropIn"),window.addEventListener("onReady",this.onReady),window.addEventListener("onSuccess",this.onSuccess),window.addEventListener("onError",this.onError)}onReady(r){console.log(`Element is mounted: ${JSON.stringify(r.detail)}`)}onSuccess(r){console.log(`Confirm success with ${JSON.stringify(r.detail)}`)}onError(r){let{error:n}=r.detail;console.error("There was an error",n)}};t.\u0275fac=function(n){return new(n||t)(A(D))},t.\u0275cmp=g({type:t,selectors:[["pricing-checkout"]],viewQuery:function(n,s){if(n&1&&S(N,5),n&2){let u;C(u=I())&&(s.elements=u.first)}},standalone:!0,features:[P],decls:40,vars:3,consts:[[1,"relative","flex","min-w-0","flex-auto","flex-col","overflow-hidden"],[1,"relative","overflow-hidden","px-6","pb-12","pt-8","sm:px-16","sm:pb-24","sm:pt-20"],["viewBox","0 0 960 540","width","100%","height","100%","preserveAspectRatio","xMidYMax slice","xmlns","http://www.w3.org/2000/svg",1,"-z-1","absolute","inset-0"],["fill","none","stroke","currentColor","stroke-width","100",1,"opacity-40","text-gray-200","dark:text-gray-800"],["r","234","cx","196","cy","23"],["r","234","cx","790","cy","491"],[1,"flex","flex-col","items-center"],[1,"text-xl","font-semibold"],[1,"mt-1","text-center","text-4xl","font-extrabold","leading-tight","tracking-tight","sm:text-7xl"],[1,"text-secondary","mt-3","text-center","tracking-tight","sm:text-2xl"],[1,""],[1,"mt-10","flex","justify-center","sm:mt-20"],[1,"flex","max-w-sm","flex-col","lg:max-w-240","lg:flex-row"],[1,"p-6","sm:p-8","lg:p-10"],["id","dropIn"],[1,"flex","flex-col","items-center","bg-gray-100","p-8","dark:bg-black","dark:bg-opacity-10","lg:min-w-80","lg:px-10","lg:py-12"],[1,"flex","items-center","whitespace-nowrap"],[1,"text-8xl","font-extrabold","tracking-tight"],[1,"text-secondary","ml-2","text-2xl","font-semibold"],[1,"text-secondary","text-center","font-medium"],["mat-flat-button","",1,"mb-2","mt-8","w-full","lg:mt-auto",3,"color"],["mat-flat-button","",1,"mb-2","mt-8","w-full","lg:mt-auto",3,"click","color"],["id","card"],["id","submit"]],template:function(n,s){n&1&&(i(0,"div",0)(1,"div",1),v(),i(2,"svg",2)(3,"g",3),x(4,"circle",4)(5,"circle",5),o()(),E(),i(6,"div",6)(7,"h2",7),l(8,"PRICING"),o(),i(9,"div",8),l(10," Take control of your productivity "),o(),i(11,"div",9)(12,"div",10),l(13,"Start small and free, upgrade as you go."),o(),i(14,"div",10),l(15,"Take control of everything."),o()()(),i(16,"div",11)(17,"fuse-card",12)(18,"div",13),x(19,"div",14),o(),i(20,"div",15)(21,"div",16)(22,"div",17),l(23," $599 "),o(),i(24,"div",18),l(25," USD "),o()(),i(26,"div",19)(27,"div"),l(28,"No monthly subscription,"),o(),i(29,"div"),l(30,"you only pay once."),o()(),i(31,"button",20),l(32," Get Started "),o(),i(33,"button",20),l(34," Get Started "),o(),i(35,"button",21),b("click",function(){return s.payByCard()}),l(36," Credit Card "),o(),x(37,"div",22),i(38,"div",23),l(39,"Submit"),o()()()()()()),n&2&&(m(31),w("color","primary"),m(2),w("color","primary"),m(2),w("color","primary"))},dependencies:[z,j,U,J],encapsulation:2,changeDetection:0});let e=t;return e})();var ye=[{path:"",component:G}];export{ye as default};
